<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sankey — Pendapatan dengan Maintenance Terpisah</title>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<style>
  body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin: 24px; color: #111; background:#f7fafc; }
  .card { max-width: 900px; margin: auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,0.06); }
  h1 { margin: 0 0 12px; font-size:20px; color:#0b63d6; }
  p.lead { margin:0 0 18px; color:#374151; }
  #sankey_div { width:100%; height:520px; }
  .notes { margin-top:16px; font-size:14px; color:#374151; background:#f1f5f9; padding:12px; border-radius:6px; }
  table { width:100%; border-collapse:collapse; margin-top:14px; }
  th, td { text-align:left; padding:8px 10px; border-bottom:1px solid #e6edf3; }
  th { background:#f8fafc; }
  .total { font-weight:700; background:#e6f2ff; }
  @media print {
    body { margin:0; background: #fff; }
    .no-print { display:none; }
    #sankey_div { height:420px; }
  }
</style>
</head>
<body>
  <div class="card">
    <h1>Aliran Pendapatan — Maintenance Terpisah</h1>
    <p class="lead">Diagram menampilkan maintenance yang langsung dipisah dari pendapatan awal (bukan lewat node “Sisa”).</p>

    <div id="sankey_div"></div>

    

    <h3>Rincian angka</h3>
    <table>
      <tr><th>Kategori</th><th>Nominal (Rp)</th><th>Keterangan</th></tr>
      <tr><td>Pendapatan Awal</td><td>544.600</td><td>375.600 + 169.000</td></tr>
      <tr><td>Maintenance (langsung)</td><td>(163.380)</td><td>30% dari total, dipisah awal</td></tr>
      <tr><td>Sisa setelah Maintenance</td><td>381.220</td><td>544.600 - 163.380</td></tr>
      <tr><td>Hamburg</td><td>(100.000)</td><td>Dari sisa</td></tr>
      <tr><td>BBM</td><td>(200.000)</td><td>Dari sisa setelah Hamburg</td></tr>
      <tr class="total"><td>Pendapatan Bersih</td><td>81.220</td><td>Final</td></tr>
    </table>
  </div>

<script>
  // Load Google Charts Sankey
  google.charts.load('current', {'packages':['sankey']});
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'From');
    data.addColumn('string', 'To');
    data.addColumn('number', 'Value');

    // Data dengan maintenance langsung terpisah dari Pendapatan Awal
    data.addRows([
      // Dari Pendapatan Awal -> Maintenance langsung
      ['Pendapatan Awal (Rp 544.600)', 'Maintenance (Rp 163.380)', 163380],
      // Dari Pendapatan Awal -> Sisa setelah Maintenance
      ['Pendapatan Awal (Rp 544.600)', 'Sisa setelah Maintenance', 381220],

      // Dari Sisa -> Hamburg dan sisa setelah Hamburg
      ['Sisa setelah Maintenance', 'Hamburg (Rp 100.000)', 100000],
      ['Sisa setelah Maintenance', 'Sisa setelah Hamburg', 281220],

      // Dari Sisa setelah Hamburg -> BBM dan Pendapatan Bersih
      ['Sisa setelah Hamburg', 'BBM (Rp 200.000)', 200000],
      ['Sisa setelah Hamburg', 'Pendapatan Bersih (Rp 81.220)', 81220]
    ]);

    var options = {
      sankey: {
        node: {
          width: 18,
          colors: ['#0b63d6','#f59e0b','#10b981','#ef4444','#6366f1'],
          label: { fontName: 'Arial', fontSize: 12, color: '#111' }
        },
        link: { colorMode: 'source' }
      },
      height: 520,
      width: '100%'
    };

    var chart = new google.visualization.Sankey(document.getElementById('sankey_div'));
    chart.draw(data, options);
  }
</script>
</body>
</html>
